<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>promise ajax</title>
</head>
<body>
<script>
let getJSON = function(url){
    return new Promise(function(resolve,reject){
        let xhr = new XMLHttpRequest();
        xhr.open("get",url);
        xhr.responseType = "json";
        xhr.setRequestHeader("Accept","application/json");
        xhr.send();
        xhr.onreadystatechange = function(){
            if(this.readyState !== 4){
                return;
            }
            if(this.status === 200){
                resolve(this.response);
            } else {
                reject(new Error(this.statusText));
            }
        };
    });
}
</script>
</body>
</html>